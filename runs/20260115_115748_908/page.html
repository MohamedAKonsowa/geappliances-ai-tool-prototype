<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src data: https: blob:; style-src 'unsafe-inline' https://fonts.googleapis.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://unpkg.com https://cdn.tailwindcss.com; font-src https://fonts.gstatic.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; script-src 'unsafe-inline' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://unpkg.com https://d3js.org https://cdn.plot.ly https://cdn.tailwindcss.com blob:; worker-src blob:; connect-src 'self' http://localhost:* http://127.0.0.1:* https://*.tile.openstreetmap.org https://cdn.jsdelivr.net; base-uri 'none'; form-action 'none';">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number Adder - GE Appliances</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .ge-primary { background-color: #007a8a; }
        .ge-primary-dark { background-color: #005f6b; }
        .ge-accent { background-color: #f39200; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex items-center justify-center p-4">
    <div class="bg-white rounded-lg shadow-xl p-8 w-full max-w-md">
        <div class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">Number Adder</h1>
            <p class="text-gray-600">Add two numbers instantly</p>
        </div>
        
        <div class="space-y-6">
            <div>
                <label for="firstNumber" class="block text-sm font-medium text-gray-700 mb-2">
                    First Number
                </label>
                <input 
                    type="text" 
                    id="firstNumber" 
                    placeholder="Enter first number"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#007a8a] focus:border-transparent outline-none transition-all"
                    title="Enter a valid number (integer or decimal)"
                >
            </div>
            
            <div>
                <label for="secondNumber" class="block text-sm font-medium text-gray-700 mb-2">
                    Second Number
                </label>
                <input 
                    type="text" 
                    id="secondNumber" 
                    placeholder="Enter second number"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#007a8a] focus:border-transparent outline-none transition-all"
                    title="Enter a valid number (integer or decimal)"
                >
            </div>
            
            <div class="pt-4">
                <div class="flex gap-3">
                    <button 
                        id="addButton"
                        class="flex-1 ge-primary text-white py-3 px-4 rounded-lg font-medium hover:ge-primary-dark transition-colors focus:outline-none focus:ring-2 focus:ring-[#007a8a] focus:ring-offset-2"
                    >
                        Add Numbers
                    </button>
                    <button 
                        id="clearButton"
                        class="px-4 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2"
                    >
                        Clear
                    </button>
                </div>
            </div>
            
            <div id="resultContainer" class="hidden">
                <div class="bg-gray-100 rounded-lg p-4 text-center">
                    <p class="text-sm text-gray-600 mb-1">Result</p>
                    <p id="result" class="text-2xl font-bold text-gray-800">0.00</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const firstNumberInput = document.getElementById('firstNumber');
        const secondNumberInput = document.getElementById('secondNumber');
        const addButton = document.getElementById('addButton');
        const clearButton = document.getElementById('clearButton');
        const resultContainer = document.getElementById('resultContainer');
        const resultElement = document.getElementById('result');

        function isValidNumber(value) {
            return !isNaN(parseFloat(value)) && isFinite(value);
        }

        function showValidationError(message) {
            Swal.fire({
                title: 'Invalid Input',
                text: message,
                icon: 'warning',
                confirmButtonColor: '#007a8a',
                confirmButtonText: 'OK'
            });
        }

        function calculateSum() {
            const firstValue = firstNumberInput.value.trim();
            const secondValue = secondNumberInput.value.trim();

            if (!firstValue || !secondValue) {
                showValidationError('Please enter both numbers');
                return;
            }

            if (!isValidNumber(firstValue)) {
                showValidationError('First input must be a valid number');
                return;
            }

            if (!isValidNumber(secondValue)) {
                showValidationError('Second input must be a valid number');
                return;
            }

            const firstNum = parseFloat(firstValue);
            const secondNum = parseFloat(secondValue);
            const sum = firstNum + secondNum;

            resultElement.textContent = sum.toFixed(2);
            resultContainer.classList.remove('hidden');
        }

        function clearAll() {
            firstNumberInput.value = '';
            secondNumberInput.value = '';
            resultContainer.classList.add('hidden');
            resultElement.textContent = '0.00';
            firstNumberInput.focus();
        }

        addButton.addEventListener('click', calculateSum);
        clearButton.addEventListener('click', clearAll);

        firstNumberInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                secondNumberInput.focus();
            }
        });

        secondNumberInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                calculateSum();
            }
        });

        // Initialize focus
        firstNumberInput.focus();
    </script>

<script id="gea-runtime-helper">
(function () {
  if (window._geaRuntimeInjected) return;
  window._geaRuntimeInjected = true;
  
  const defaultModel = "moonshotai/kimi-k2-instruct-0905";
  const appId = "default";
  
  // AI Helper
  async function callRuntimeLLM(prompt, options = {}) {
    if (!prompt || typeof prompt !== "string") {
      throw new Error("Prompt must be a non-empty string");
    }
    const model = typeof options.model === 'string' && options.model.trim() ? options.model.trim() : defaultModel;
    const response = await fetch('/api/runtime/llm', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ prompt, model }),
      signal: options.signal
    });
    if (!response.ok) {
      const error = await response.json().catch(() => ({}));
      throw new Error(error && error.error ? error.error : 'Runtime LLM request failed');
    }
    const data = await response.json().catch(() => ({}));
    return data && data.response ? data.response : '';
  }
  window.geaRuntimeLLM = callRuntimeLLM;

  // Data Store Helper
  window.geaRuntimeStore = {
    async get(key) {
      const response = await fetch('/api/runtime/store/' + encodeURIComponent(key), {
        headers: { 'X-App-ID': appId }
      });
      if (!response.ok) return null;
      return await response.json().catch(() => null);
    },
    async set(key, value) {
      const response = await fetch('/api/runtime/store/' + encodeURIComponent(key), {
        method: 'POST',
        headers: { 'Content-Type': 'application/json', 'X-App-ID': appId },
        body: JSON.stringify(value)
      });
      return response.ok;
    }
  };
})();
</script>
</body>
</html>
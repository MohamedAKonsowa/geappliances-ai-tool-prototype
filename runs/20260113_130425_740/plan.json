{
  "title": "Timesheet Performance Analyzer",
  "description": "A web app for GE Appliances internal use that lets users upload a CSV timesheet, calculates each employee's punctuality against a 9 am‑5 pm schedule, identifies the best and worst performers, and provides a clear explanation with visual summaries.",
  "pages": [
    {
      "name": "Home",
      "purpose": "Upload CSV, view overall analysis, and see best/worst employee highlights."
    },
    {
      "name": "Details",
      "purpose": "Show a sortable table of all employees with their average lateness, early‑leave minutes, total deviation and a bar chart of the scores."
    },
    {
      "name": "Settings",
      "purpose": "Toggle dark/light mode and reset stored data."
    }
  ],
  "ui_components": [
    "File input (drag‑and‑drop area) for CSV upload",
    "Responsive header with app title and dark‑mode toggle",
    "Card components for Best Performer and Worst Performer summaries",
    "Data table with sorting, searching and pagination",
    "Bar chart (Chart.js) displaying total deviation per employee",
    "Modal dialog for explanation of the scoring logic",
    "Toast notifications for upload success / errors",
    "Footer with version info"
  ],
  "libraries": [
    "Chart.js for bar chart visualization",
    "Tailwind CSS for styling and responsive layout",
    "PapaParse (built‑in) for client‑side CSV parsing",
    "Lucide icons for UI icons",
    "window.geaRuntimeLLM(prompt) for AI‑generated explanation (optional)"
  ],
  "state": [
    "uploadedData: array of raw CSV rows",
    "employees: array of objects {employee_id, name, avgLateMins, avgEarlyMins, totalDeviation}",
    "bestEmployee: object with employee details and score",
    "worstEmployee: object with employee details and score",
    "theme: 'light' | 'dark' stored in localStorage",
    "showExplanationModal: boolean"
  ],
  "interactions": [
    "User drags or selects a CSV file → app parses it with PapaParse",
    "After parsing, compute for each row: lateMins = max(0, clock_in - 09:00), earlyMins = max(0, 17:00 - clock_out)",
    "Aggregate per employee: average late minutes, average early minutes, total deviation = avgLate + avgEarly",
    "Identify bestEmployee (lowest total deviation) and worstEmployee (highest total deviation)",
    "Render cards with employee name, average lateness/early‑leave, and a brief explanation",
    "Display bar chart where each bar represents total deviation; highlight best/worst bars",
    "Table allows column sorting and text search; clicking a row opens the explanation modal",
    "Dark‑mode toggle updates Tailwind's dark class and persists choice in localStorage",
    "Reset button clears stored data and returns to initial state"
  ],
  "acceptance_criteria": [
    "The app accepts a CSV file matching the provided schema and parses it without errors.",
    "For each employee the app calculates average minutes late (clock‑in after 09:00) and average minutes left early (clock‑out before 17:00).",
    "Total deviation is the sum of the two averages; the employee with the smallest deviation is shown as the Best Performer, the largest as the Worst Performer.",
    "The Best and Worst Performer cards display the employee’s name, average lateness, average early‑leave, total deviation and a concise natural‑language explanation.",
    "A bar chart visualizes total deviation for all employees, with distinct colors for best and worst.",
    "The detailed table lists all employees with sortable columns for name, avgLate, avgEarly, and total deviation, and supports text search.",
    "All UI components are responsive and work on mobile, tablet and desktop widths.",
    "Dark‑mode can be toggled and persists across page reloads.",
    "Uploaded data and user preferences are saved in localStorage so that a page refresh retains the analysis.",
    "No external network requests are made; all processing runs client‑side.",
    "The app conforms to GE Appliances internal accessibility standards (keyboard navigation, ARIA labels)."
  ]
}
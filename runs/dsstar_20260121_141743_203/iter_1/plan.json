{
  "title": "CSV Insight Guesser",
  "description": "A web tool that lets users upload any CSV file and returns an AI-generated guess of the dataset's subject or purpose. No predefined schema required.",
  "pages": [
    {
      "name": "Home",
      "purpose": "Upload CSV, preview data, trigger AI guess, display result."
    }
  ],
  "ui_components": [
    "File upload button",
    "Data preview table",
    "Loading spinner",
    "Result card with guess text",
    "Error alert modal",
    "Refresh/Reset button"
  ],
  "libraries": [
    "Papa Parse for CSV parsing",
    "Tabulator for interactive data preview",
    "Tailwind CSS for styling",
    "DaisyUI for ready-made components",
    "SweetAlert2 for alerts",
    "window.geaRuntimeLLM for AI inference",
    "window.geaRuntimeStore for caching results"
  ],
  "state": [
    "uploadedFile: File | null",
    "csvData: Array<Object> | null",
    "previewColumns: Array<string>",
    "guessResult: string | null",
    "loading: boolean",
    "errorMessage: string | null"
  ],
  "interactions": [
    "User clicks 'Upload CSV' → opens file selector → selected file stored in uploadedFile.",
    "On file selection, Papa Parse reads the file (header: true, skipEmptyLines: true) and populates csvData and previewColumns.",
    "Display first 10 rows in Tabulator table for quick preview.",
    "User clicks 'Generate Guess' → loading set true → call window.geaRuntimeLLM with prompt: \"Given the following CSV data (first 20 rows), summarize what this dataset is about in one sentence: \" + JSON.stringify(sampleRows).\".",
    "Result from LLM stored in guessResult and cached via window.geaRuntimeStore.set('lastGuess', {fileName, guessResult}).",
    "If error occurs at any step, set errorMessage and show SweetAlert2 modal.",
    "Refresh button clears all state, allowing a new upload."
  ],
  "acceptance_criteria": [
    "User can upload any .csv file up to 5 MB.",
    "App parses CSV correctly, handling commas, quotes, and line breaks.",
    "First 10 rows are displayed in a sortable, searchable table.",
    "AI guess is generated within 10 seconds and displayed in a styled card.",
    "Loading spinner appears while AI request is in progress.",
    "Errors (e.g., parse failure, AI timeout) show a clear alert with retry option.",
    "Last guess is persisted across sessions using geaRuntimeStore.",
    "Responsive design works on desktop and tablet screens.",
    "All external calls are limited to the provided runtime LLM function; no network requests are made."
  ],
  "recommended_models": {
    "coder": "llama-3.1-70b-versatile",
    "critic": "llama-3.1-70b-versatile",
    "runtime": "llama-3.1-70b-versatile"
  }
}
{
  "title": "CSV Topic Guesser",
  "description": "An internal tool that lets users upload any CSV file and automatically returns a concise guess of what the data represents, without requiring any predefined input format.",
  "pages": [
    {
      "name": "Home",
      "purpose": "Provide a single-page interface for CSV upload, preview, and topic inference."
    }
  ],
  "ui_components": [
    "File upload button (styled with Tailwind & DaisyUI)",
    "Tabulator table for CSV preview",
    "Loading spinner (Tailwind animation)",
    "Result card showing the guessed topic",
    "Error toast (SweetAlert2)",
    "Help tooltip (Tippy.js) explaining how the guess is generated"
  ],
  "libraries": [
    "Papa Parse for CSV parsing",
    "Tabulator for interactive table preview",
    "Tailwind CSS for styling",
    "DaisyUI for pre‑built components",
    "SweetAlert2 for user notifications",
    "Tippy.js for tooltips",
    "window.geaRuntimeLLM for AI inference",
    "window.geaRuntimeStore for persisting last guess and user settings"
  ],
  "state": [
    "uploadedFile: File | null",
    "csvData: Array<Object> (parsed rows)",
    "previewData: Array<Object> (first 10 rows for table)",
    "guessResult: string",
    "isLoading: boolean",
    "errorMessage: string | null",
    "settings: { theme: string }"
  ],
  "interactions": [
    "User clicks upload button → hidden file input triggers.",
    "On file selection, set isLoading=true, clear previous state, and parse CSV with Papa Parse (header: true, dynamicTyping: true).",
    "If parsing succeeds, store full csvData, slice first 10 rows to previewData, render Tabulator table.",
    "Construct prompt: \"Given the following CSV header and sample rows, infer the most likely subject of this dataset. Respond with a short phrase (e.g., 'Sales transactions', 'Employee attendance', etc.).\\nHeader: {header}\\nRows: {rows}\"",
    "Call await window.geaRuntimeLLM(prompt) → store result in guessResult.",
    "Set isLoading=false, display guessResult in a styled card.",
    "If any error occurs (parse failure, AI error), set errorMessage and show SweetAlert2 toast.",
    "Persist last guess and theme using window.geaRuntimeStore.set('csvGuesserState', {guessResult, settings}). Load on init with get()."
  ],
  "acceptance_criteria": [
    "User can upload any .csv file up to 5 MB.",
    "CSV is parsed correctly; header row is detected automatically.",
    "A preview of the first 10 rows is shown in an interactive Tabulator table (sortable, searchable).",
    "The app calls the runtime LLM and returns a single‑sentence guess within 5 seconds for typical files.",
    "Result is displayed prominently; user can re‑upload a new file to repeat the process.",
    "All UI elements are responsive and styled with Tailwind/DaisyUI.",
    "Errors (invalid CSV, AI failure) are shown via SweetAlert2 with clear instructions.",
    "User preferences (theme) and the last guess persist across sessions using geaRuntimeStore.",
    "No blocked APIs (fetch, iframe, etc.) are used."
  ],
  "recommended_models": {
    "coder": "llama-3.3-70b-versatile",
    "critic": "llama-3.3-70b-versatile",
    "runtime": "llama-3.3-70b-versatile"
  }
}